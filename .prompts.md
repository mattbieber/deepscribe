
## Db Schema
This is an app that stores transcripts of doctor-patient conversations.  It allows users (doctors) to upload new conversation documents (TXT files) that it will then persist to a database. An LLM will then analyze the conversation and extract relevant structured data such as symptoms, conditions, diagnosis and patient demographics - age, gender, ethnicity.  This extracted information will then be persisted to the database and associated with the original conversation transcript.  Plan a simple table schema to record this data, that is normalized for a Postgres database hosted on Neon.  The schema should consist of the minimal complexity necessary to record this information.  The schema will be created using drizzle ORM. Do NOT edit any files at this time, just present a plan.


# llm
You are a clinical documentation specialist.  I will upload a transcript of a doctor-patient conversation.  I'd like you to attempt to extract  the following insights from the conversation: symptoms and conditions, diagnosis, patient age, patient city, patient state. Present your findings as a json object with a single key for each of the 5 criteria mentioned.  The values for each key should be as follows:  

symptoms_and_conditions AND diagnosis
A single array of strings, where each string is text you have found as a symptom or condition.  The order of the strings in the array should be what you deem as priority-first and should be limited to at most 2 entries.  If no match is found the  value should be an empty array.

patient_age
number in years or -1 if not found

patient_city AND patient_state
string or null if not found

